extends layout

block content
  #container(style='max-width: 100vw; overflow: hidden;')
    h1(class="blockquote text-center", action = "/home", font color='white')
    .container
      img.img-responsive.img-block(src='https://lh3.googleusercontent.com/-cV1FNQAdYQriSo2C2A2rxyNx95qpo45rLMxm2tu0t_SMKGBaQyXeiaIeD_ZFGNl7j4CpuScOrlwjfAlYi0egOAqwweISb324sGaIMvXp2wlV9dVKg3ErEiGL271o9XAjCyXV0B3xQ=w2400', style='min-width: 300px; max-width: 55vw; margin: 0 auto; display: block;')
      p(style='position: absolute; top: 33%; left: 34%; transform: translate(-10%, -85%);')
        font(style='color: white; font-size: 9vmin; text-align: center;') Welcome #{user.googlename}
  font(color = 'white', size = '5') Profile information
    .row
      .col-6
        if !user.phoneNumber
          form.form-inline.my-2.my-lg-0(action='/profile/addNumber/', method='post')
            input.form-control.mr-sm-2(type='search', placeholder='Enter number', aria-label='Search', name = 'numberInput')
            button.btn.btn-secondary(type='submit') Add a phone number
        else
          form.form-inline.my-2.my-lg-0(action='/profile/addNumber/', method='post')
            input.form-control.mr-sm-2(type='search', placeholder=user.phoneNumber, aria-label='Search', name = 'numberInput')
            button.btn.btn-secondary(type='submit') Change phone number
        br
        if !user.emailAddress
          form.form-inline.my-2.my-lg-0(action='/profile/addEmail/', method='post')
            input.form-control.mr-sm-2(type='search', placeholder='Enter email', aria-label='Search', name = 'emailInput')
            button.btn.btn-secondary(type='submit') Add an Email address
        else
          form.form-inline.my-2.my-lg-0(action='/profile/addEmail/', method='post')
            input.form-control.mr-sm-2(type='search', placeholder=user.emailAddress, aria-label='Search', name = 'numberInput')
            button.btn.btn-secondary(type='submit') Change email
        if user.friends.size > 0
          font(color = 'white', size = '5') Friends
        else
          font(color = 'white', size = '5') No friends yet, go add some :)
          form.form-inline.my-2.my-lg-0(action='/friends/', method='get')
            button.btn.btn-primary(type='submit') Find some friends
        - values = Array.from(user.friends.values());
        each val,i in values
          .col-6
            .card(style='width: 20rem; margin: 5px;')
              .card-body
                h5.card-title(style='font-color: black;') #{val.name}
                form.form-inline.my-2.my-lg-0(action='/friends/removeFriend', method='post')
                  button.btn.btn-danger(type='submit', name='friendRemove',value=val.id) Remove friend
      .col-6
        .row
          if user.readBooks.length > 0
            br
            font(color = 'white', size = '5', position = 'relative', style = 'float: left')  Recently read
              .row(style='overflow-x: auto;')
                .card.border-0
                each book in user.readBooks
                  a(href='/home/' + book.id)
                    font(color = 'white', size = '2', position = 'relative')
                      img(src=book.poster, style='width: 160px; height: auto; margin: 5px;', alt=book.name)
        br
        .row(style='margin-left: 10px;')
          if user.watchedMovies.length > 0
            br
            font(color = 'white', size = '5', position = 'relative', style = 'float: left;')  Recently watched
              .row(style='overflow-x: auto;')
                .card.border-0
                each movie in user.watchedMovies
                    a(href='/home/movie/' + movie.id)
                      font(color = 'white', size = '2', position = 'relative')
                        img(src=movie.poster, style='width: 160px; height: auto; margin: 5px;', alt=movie.name)
